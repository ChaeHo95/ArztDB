<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "com.example.ArztDB.mapper.ProductMapper">

    <insert id="productInsert" parameterType="ProductVo">
        insert into product values(#{product_id},#{title},#{brand},#{category1},#{category2},#{category3},#{image},#{lprice},#{mallName},default)
    </insert>

<!--    <select id="getProduct" resultType="ProductVo">-->
<!--        select * from product where product_id = #{productId}-->
<!--    </select>-->

    <select id="getAllProductCategory1" resultType="String">
        select category1 from product group by category1
    </select>

    <select id="getAllProductCategory2" parameterType="CategoryVo" resultType="String">
        select category2 from product where category1 = #{category1} group by category2
    </select>

    <select id="getAllProductCategory3" parameterType="CategoryVo" resultType="String">
        select category3 from product where category1 = #{category1} and category2 = #{category2} group by category3
    </select>

    <select id="getProducts" parameterType="CategoryVo" resultType="ProductVo">
        select * from product where category1 = #{category1} <if test="category2 != null"> and category2 = #{category2}</if> <if test="category3 != null"> and category3 = #{category3}</if>
    </select>

    <select id="getProduct"  resultType="ProductVo">
        select * from product where product_id = #{product_id}
    </select>

    <select id="getAllProducts"  resultType="ProductVo">
        select * from product
    </select>

</mapper>
